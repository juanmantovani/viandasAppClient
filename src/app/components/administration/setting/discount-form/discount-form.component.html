<h1 mat-dialog-title *ngIf="data.actionForm == 'Add'">Agregar descuento</h1>
<h1 mat-dialog-title *ngIf="data.actionForm == 'Edit'">Editando descuento</h1>


<mat-dialog-content>

    <form [formGroup]="form" (keyup.enter)="form.status == 'VALID' ? onClickSave() : ''" (ngSubmit)="onClickSave()" id="myform" #f="ngForm">
        <input type="hidden" formControlName="id" />

        <div class="row">
            <div class="col-md-12">
                <mat-form-field appearance="fill" #description>
                    <mat-label>Descripción</mat-label>
                    <input type="text" matInput formControlName="description" name="description"
                        id="description" #description placeholder="Ingrese una descripción" required />
                        <mat-hint *ngIf="form!.controls['description']!.touched && form!.controls['description']!.invalid"
                        class="error-input">
                        Este campo es requerido</mat-hint>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <mat-form-field appearance="fill" #cant>
                    <mat-label>Cantidad de platos</mat-label>
                    <input type="number" matInput formControlName="cant" name="cant"
                        id="cant" #cant placeholder="Ingrese cantidad de platos" required />
                        <mat-hint *ngIf="form!.controls['cant']!.touched && form!.controls['cant']!.invalid"
                        class="error-input">
                        Este campo es requerido</mat-hint>
                </mat-form-field>
            </div>
            <div class="col-md-6">
                <mat-form-field appearance="fill" #percentage>
                    <mat-label>Porcentaje de descuento</mat-label>
                    <input type="number" matInput formControlName="percentage" name="percentage"
                        id="percentage" #percentage placeholder="Ingrese una porcentaje" required min="0" max="100"/>
                        <mat-hint *ngIf="form!.controls['percentage']!.touched && form!.controls['percentage']!.errors?.required"
                        class="error-input">
                        Este campo es requerido</mat-hint>
                        <mat-hint *ngIf="(form!.controls['percentage']?.dirty || form!.controls['percentage']?.touched) && (form!.controls['percentage']!.errors?.min || form!.controls['percentage']!.errors?.max)"
                        class="error-input">
                        Ingrese un valor entre 1 y 100</mat-hint>
                </mat-form-field>
            </div>
        </div>
    </form>

</mat-dialog-content>

<mat-dialog-actions align="center">
    <button mat-button color="primary" (click)="onClickCancel()">
        <mat-icon>clear</mat-icon> CANCELAR
    </button>
    <button mat-raised-button color="primary" (click)="onClickSave()" type="submit" class="btn-primary btn-azul" [disabled]="form.status == 'INVALID' ">
        <mat-icon>save</mat-icon> GUARDAR
    </button>
</mat-dialog-actions>
